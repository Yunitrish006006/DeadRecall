# ⚠️ 重要：需要重新構建！

## 問題原因

驗證腳本顯示 **Gson 沒有被打包**，原因是：

1. ✅ `build.gradle` 已經正確配置了 Gson 依賴
2. ❌ **但你還沒有重新構建模組**

當前的 JAR（260KB）是**舊版本**，是在修改 `build.gradle` **之前**構建的。

---

## 🚀 解決方法（3 步驟）

### 方法 1: 使用我創建的腳本（推薦）

在 PowerShell 中執行：
```powershell
.\rebuild.ps1
```

這個腳本會：
1. 清理舊的構建文件
2. 重新構建模組（包含 Gson）
3. 驗證 JAR 是否正確

### 方法 2: 手動執行（如果腳本有問題）

```powershell
# 1. 清理
.\gradlew.bat clean

# 2. 重新構建
.\gradlew.bat build

# 3. 驗證
.\verify-jar.ps1
```

---

## 📊 預期結果

重新構建後：

### JAR 大小
- 當前：260 KB（舊版本，無 Gson）
- 重建後：**~300-350 KB**（包含 Gson）

### 驗證結果
```
【檢查 4】Gson 依賴 ⭐ 重點
  ✅ Gson 已打包
  包含 XX 個 Gson 文件
  ✅ JsonParser 和 JsonObject 都存在
```

---

## ⏰ 預計時間

- 清理：5-10 秒
- 構建：1-3 分鐘（首次可能更久）
- 驗證：5 秒

---

## 📋 完整流程

```powershell
# 一鍵完成
.\rebuild.ps1

# 腳本會自動：
# 1. .\gradlew.bat clean
# 2. .\gradlew.bat build  
# 3. 詢問是否執行 .\verify-jar.ps1

# 驗證應該顯示：
# ✅ 所有檢查通過！
```

---

## 🎯 構建完成後

如果驗證通過，就可以部署了：

```powershell
# 複製到 Minecraft
Copy-Item "build\libs\deadrecall-1.1.0.jar" -Destination "$env:APPDATA\.minecraft\mods\" -Force

# 啟動 Minecraft 測試
```

---

## ❓ 為什麼需要重新構建？

### Gradle 構建流程

1. **編譯時**：讀取 `build.gradle` 的依賴配置
2. **打包時**：將 `include` 指定的依賴打包進 JAR
3. **結果**：生成包含所有依賴的 JAR

### 你的情況

```
時間線：
[舊] 構建 → 生成 JAR (260KB, 無 Gson)
     ↓
[修改] build.gradle 添加 Gson
     ↓
[現在] JAR 還是舊的 ← 需要重新構建！
     ↓
[重建] 新 JAR (~300KB, 有 Gson) ✅
```

---

## 🎬 現在執行

在 PowerShell 中執行：
```powershell
.\rebuild.ps1
```

或手動執行：
```powershell
.\gradlew.bat clean
.\gradlew.bat build
.\verify-jar.ps1
```

**重新構建後，Gson 就會被正確打包了！** 🎉
