# 🎒 背包等級系統實現完成

## ✨ 新功能：背包等級系統

### 三種等級的背包

#### 🟤 基礎背包 (Basic Backpack)
- **容量**: 1排 9格
- **合成**: 箱子 + 8個皮革（箱子外面圍一圈）
- **合成配方**:
  ```
  [皮革] [皮革] [皮革]
  [皮革] [箱子] [皮革]
  [皮革] [皮革] [皮革]
  ```

#### 🟦 標準背包 (Standard Backpack)
- **容量**: 3排 27格
- **合成**: 基礎背包 + 8個皮革
- **合成配方**:
  ```
  [皮革] [皮革] [皮革]
  [皮革] [基礎背包] [皮革]
  [皮革] [皮革] [皮革]
  ```

#### ⚫ 進階背包 (Advanced Backpack)
- **容量**: 6排 54格
- **合成**: 標準背包 + 8個鐵錠
- **合成配方**:
  ```
  [鐵錠] [鐵錠] [鐵錠]
  [鐵錠] [標準背包] [鐵錠]
  [鐵錠] [鐵錠] [鐵錠]
  ```

---

## 📝 技術實現

### 新增的類別

#### 1. TieredBackpackItem
- 支援不同等級的背包
- 包含 `BackpackTier` 枚舉（BASIC, STANDARD, ADVANCED）
- 每個等級有不同的容量和行數
- Tooltip 顯示等級和槽位數

#### 2. 修改的類別
- **ModItems**: 註冊三種背包物品
- **BackpackInventory**: 支援動態大小
- **BackpackScreenHandler**: 根據等級動態生成槽位
- **BackpackScreen**: UI 根據背包大小自動調整

---

## 🎮 使用方式

### 獲取背包
1. **創造模式**: 物品欄 → 工具分類 → 三種背包
2. **生存模式**: 按照合成配方製作
3. **指令**: 
   - `/give @s deadrecall:backpack_basic`
   - `/give @s deadrecall:backpack_standard`
   - `/give @s deadrecall:backpack_advanced`

### 升級路徑
```
箱子 + 皮革 → 基礎背包 (9格)
    ↓
基礎背包 + 皮革 → 標準背包 (27格)
    ↓
標準背包 + 鐵錠 → 進階背包 (54格)
```

---

## 📊 對比表

| 背包等級 | 容量 | 行數 | 主要材料 | 合成基礎 |
|---------|------|------|---------|---------|
| 基礎 | 9格 | 1排 | 皮革×8 | 箱子 |
| 標準 | 27格 | 3排 | 皮革×8 | 基礎背包 |
| 進階 | 54格 | 6排 | 鐵錠×8 | 標準背包 |

---

## 🔧 構建測試

### 構建命令
```powershell
# 使用腳本
.\build-tiered-backpack.bat

# 或使用 Gradle
.\gradlew build
```

### 啟動測試
```powershell
.\gradlew runClient
```

### 測試步驟
1. 進入創造模式
2. 獲取三種背包
3. 分別右鍵打開測試：
   - 基礎背包：1排 9格 ✅
   - 標準背包：3排 27格 ✅
   - 進階背包：6排 54格 ✅
4. 測試合成配方
5. 測試物品保存

---

## 📦 文件清單

### 新增的 Java 類
- ✅ `TieredBackpackItem.java` - 等級背包類

### 修改的 Java 類
- ✅ `ModItems.java` - 註冊三種背包
- ✅ `BackpackInventory.java` - 支援動態大小
- ✅ `BackpackScreenHandler.java` - 動態槽位生成
- ✅ `BackpackScreen.java` - 動態UI大小

### 新增的資源文件
- ✅ `backpack_basic.json` (模型)
- ✅ `backpack_standard.json` (模型)
- ✅ `backpack_advanced.json` (模型)
- ✅ `backpack_standard.json` (配方)
- ✅ `backpack_advanced.json` (配方)

### 修改的資源文件
- ✅ `backpack.json` (配方) - 改為基礎背包
- ✅ `en_us.json` - 新增翻譯
- ✅ `zh_tw.json` - 新增翻譯
- ✅ `zh_cn.json` - 新增翻譯

---

## 🎯 特色功能

### 1. 動態 UI
背包界面會根據等級自動調整大小

### 2. 漸進式升級
需要先製作低等級背包才能升級

### 3. 物品保存
所有等級的背包都正確保存物品

### 4. 防止套娃
任何等級的背包都不能放入背包中

### 5. Tooltip 顯示
鼠標懸停顯示背包等級和槽位數

---

## 📈 版本資訊

- **版本**: v1.5.0
- **更新日期**: 2026-02-15
- **主要功能**: 背包等級系統
- **包含等級**: 3個（基礎/標準/進階）

---

## ✅ 完成狀態

- [x] 創建 TieredBackpackItem 類
- [x] 定義三個背包等級
- [x] 修改 BackpackInventory 支援動態大小
- [x] 修改 ScreenHandler 動態生成槽位
- [x] 修改 Screen UI 動態調整
- [x] 創建三個合成配方
- [x] 創建物品模型
- [x] 添加多語言支援
- [x] 更新版本號
- [x] 無編譯錯誤

---

## 🚀 快速開始

### 1. 構建項目
```powershell
.\gradlew build
```

### 2. 啟動遊戲
```powershell
.\gradlew runClient
```

### 3. 測試基礎背包
```
1. 收集材料: 1個箱子 + 8個皮革
2. 在工作台合成基礎背包
3. 右鍵打開，查看 1排9格
4. 放入物品測試保存
```

### 4. 升級到標準背包
```
1. 收集 8個皮革
2. 將基礎背包和皮革在工作台合成
3. 獲得標準背包（3排27格）
```

### 5. 升級到進階背包
```
1. 收集 8個鐵錠
2. 將標準背包和鐵錠在工作台合成
3. 獲得進階背包（6排54格）
```

---

## 💡 遊戲內效果

### 基礎背包 (9格)
```
┌─────────────────┐
│ □ □ □ □ □ □ □ □ □ │  ← 1排
└─────────────────┘
```

### 標準背包 (27格)
```
┌─────────────────┐
│ □ □ □ □ □ □ □ □ □ │  ← 第1排
│ □ □ □ □ □ □ □ □ □ │  ← 第2排
│ □ □ □ □ □ □ □ □ □ │  ← 第3排
└─────────────────┘
```

### 進階背包 (54格)
```
┌─────────────────┐
│ □ □ □ □ □ □ □ □ □ │  ← 第1排
│ □ □ □ □ □ □ □ □ □ │  ← 第2排
│ □ □ □ □ □ □ □ □ □ │  ← 第3排
│ □ □ □ □ □ □ □ □ □ │  ← 第4排
│ □ □ □ □ □ □ □ □ □ │  ← 第5排
│ □ □ □ □ □ □ □ □ □ │  ← 第6排
└─────────────────┘
```

---

## 🎊 總結

✅ **基礎背包**: 箱子 + 皮革 = 1排 9格  
✅ **標準背包**: 基礎背包 + 皮革 = 3排 27格  
✅ **進階背包**: 標準背包 + 鐵錠 = 6排 54格  
✅ **動態大小**: UI 自動適應背包等級  
✅ **物品保存**: 所有等級正確保存  
✅ **漸進升級**: 循序漸進的升級路徑  

---

**背包等級系統已完全實現！快去遊戲裡試試吧！** 🎮✨

---

*實現日期: 2026年2月15日*  
*版本: DeadRecall v1.5.0*  
*狀態: ✅ 完成*

